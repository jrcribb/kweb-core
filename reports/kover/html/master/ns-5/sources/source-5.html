


<!DOCTYPE html>
<html id="htmlId">
<head>
  <title>Coverage Report > OnImmediateReceiver</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">kweb.html.events</a>
</div>

<h1>Coverage Summary for Class: OnImmediateReceiver (kweb.html.events)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Branch, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
<th class="coverageStat 
">
  Instruction, %
</th>
</tr>
<tr>
  <td class="name">OnImmediateReceiver</td>
<td class="coverageStat">
  <span class="percent">
    6%
  </span>
  <span class="absValue">
    (3/50)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    75%
  </span>
  <span class="absValue">
    (6/8)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    21.3%
  </span>
  <span class="absValue">
    (13/61)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    35.1%
  </span>
  <span class="absValue">
    (106/302)
  </span>
</td>
</tr>
  <tr>
    <td class="name">OnImmediateReceiver$event$caughtJsFunctions$1</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
    <td class="coverageStat"/>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (4/4)
  </span>
</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    7.8%
  </span>
  <span class="absValue">
    (4/51)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    75%
  </span>
  <span class="absValue">
    (6/8)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    22.6%
  </span>
  <span class="absValue">
    (14/62)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    35.9%
  </span>
  <span class="absValue">
    (110/306)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package kweb.html.events
&nbsp;
&nbsp;import kweb.*
&nbsp;import kweb.plugins.fomanticUI.fomantic
&nbsp;import kweb.state.KVar
&nbsp;import kweb.state.render
&nbsp;import kweb.util.KWebDSL
&nbsp;
<b class="fc">&nbsp;@KWebDSL</b>
<b class="fc">&nbsp;class OnImmediateReceiver&lt;T: EventGenerator&lt;T&gt;&gt;(internal val source: T) {</b>
&nbsp;    fun event(eventName: String, callback: () -&gt; Unit): T {
<b class="fc">&nbsp;        val caughtJsFunctions = source.browser.catchOutbound(WebBrowser.CatcherType.IMMEDIATE_EVENT) {</b>
<b class="fc">&nbsp;            callback()</b>
&nbsp;        }
<b class="fc">&nbsp;        val immediateJs = mutableListOf&lt;String&gt;()</b>
<b class="fc">&nbsp;        for (jsFunction in caughtJsFunctions.first) {</b>
<b class="pc">&nbsp;            if (jsFunction.arguments.isNotEmpty()) {</b>
<b class="fc">&nbsp;                val argStrings = mutableListOf&lt;String&gt;()</b>
<b class="fc">&nbsp;                for (arg in jsFunction.arguments) {</b>
<b class="fc">&nbsp;                    argStrings.add(arg.toString())</b>
&nbsp;                }
<b class="fc">&nbsp;                immediateJs.add(&quot;cachedFunctions[${jsFunction.jsId}](${argStrings.joinToString(&quot;,&quot;)})&quot;)</b>
&nbsp;            } else {
<b class="nc">&nbsp;                immediateJs.add(&quot;cachedFunctions[${jsFunction.jsId}]()&quot;)</b>
&nbsp;            }
&nbsp;
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        source.addImmediateEventCode(eventName, immediateJs.joinToString(separator = &quot;&quot;))</b>
<b class="fc">&nbsp;        return source</b>
&nbsp;    }
&nbsp;
&nbsp;    // Mouse events
<b class="fc">&nbsp;    fun click(callback: () -&gt; Unit) = event(&quot;click&quot;, callback)</b>
<b class="nc">&nbsp;    fun contextmenu(callback: () -&gt; Unit) = event(&quot;contextmenu&quot;, callback)</b>
<b class="nc">&nbsp;    fun dblclick(callback: () -&gt; Unit) = event(&quot;dblclick&quot;, callback)</b>
<b class="nc">&nbsp;    fun mousedown(callback: () -&gt; Unit) = event(&quot;mousedown&quot;, callback)</b>
<b class="nc">&nbsp;    fun mouseenter(callback: () -&gt; Unit) = event(&quot;mouseenter&quot;, callback)</b>
<b class="nc">&nbsp;    fun mouseleave(callback: () -&gt; Unit) = event(&quot;mouseleave&quot;, callback)</b>
<b class="nc">&nbsp;    fun mousemove(callback: () -&gt; Unit) = event(&quot;mousemove&quot;, callback)</b>
<b class="nc">&nbsp;    fun mouseover(callback: () -&gt; Unit) = event(&quot;mouseover&quot;, callback)</b>
<b class="nc">&nbsp;    fun mouseout(callback: () -&gt; Unit) = event(&quot;mouseout&quot;, callback)</b>
<b class="nc">&nbsp;    fun mouseup(callback: () -&gt; Unit) = event(&quot;mouseup&quot;, callback)</b>
&nbsp;
&nbsp;    // Keyboard events
<b class="nc">&nbsp;    fun keydown(callback: () -&gt; Unit) = event(&quot;keydown&quot;, callback)</b>
<b class="nc">&nbsp;    fun keypress(callback: () -&gt; Unit) = event(&quot;keypress&quot;, callback)</b>
<b class="nc">&nbsp;    fun keyup(callback: () -&gt; Unit) = event(&quot;keyup&quot;, callback)</b>
&nbsp;
&nbsp;    // Focus Events
&nbsp;    // https://www.w3schools.com/jsref/obj_focusevent.asp
<b class="nc">&nbsp;    fun blur(callback: () -&gt; Unit) = event(&quot;blur&quot;, callback)</b>
<b class="nc">&nbsp;    fun focus(callback: () -&gt; Unit) = event(&quot;focus&quot;, callback)</b>
<b class="nc">&nbsp;    fun focusin(callback: () -&gt; Unit) = event(&quot;focusin&quot;, callback)</b>
<b class="nc">&nbsp;    fun focusout(callback: () -&gt; Unit) = event(&quot;focusout&quot;, callback)</b>
&nbsp;
&nbsp;    // Frame / Object Events
<b class="nc">&nbsp;    fun abort(callback: () -&gt; Unit) = event(&quot;abort&quot;, callback)</b>
<b class="nc">&nbsp;    fun beforeunload(callback: () -&gt; Unit) = event(&quot;beforeunload&quot;, callback)</b>
<b class="nc">&nbsp;    fun error(callback: () -&gt; Unit) = event(&quot;error&quot;, callback)</b>
<b class="nc">&nbsp;    fun hashchange(callback: () -&gt; Unit) = event(&quot;hashchange&quot;, callback)</b>
<b class="nc">&nbsp;    fun load(callback: () -&gt; Unit) = event(&quot;load&quot;, callback)</b>
<b class="nc">&nbsp;    fun pageshow(callback: () -&gt; Unit) = event(&quot;blur&quot;, callback)</b>
<b class="nc">&nbsp;    fun pagehide(callback: () -&gt; Unit) = event(&quot;pagehide&quot;, callback)</b>
<b class="nc">&nbsp;    fun resize(callback: () -&gt; Unit) = event(&quot;resize&quot;, callback)</b>
<b class="nc">&nbsp;    fun scroll(callback: () -&gt; Unit) = event(&quot;scroll&quot;, callback)</b>
<b class="nc">&nbsp;    fun unload(callback: () -&gt; Unit) = event(&quot;unload&quot;, callback)</b>
&nbsp;
&nbsp;    // Form Events
<b class="nc">&nbsp;    fun change(callback: () -&gt; Unit) = event(&quot;change&quot;, callback)</b>
<b class="nc">&nbsp;    fun input(callback: () -&gt; Unit) = event(&quot;input&quot;, callback)</b>
<b class="nc">&nbsp;    fun invalid(callback: () -&gt; Unit) = event(&quot;invalid&quot;, callback)</b>
<b class="nc">&nbsp;    fun reset(callback: () -&gt; Unit) = event(&quot;reset&quot;, callback)</b>
<b class="nc">&nbsp;    fun search(callback: () -&gt; Unit) = event(&quot;search&quot;, callback)</b>
<b class="nc">&nbsp;    fun select(callback: () -&gt; Unit) = event(&quot;select&quot;, callback)</b>
<b class="nc">&nbsp;    fun submit(callback: () -&gt; Unit) = event(&quot;submit&quot;, callback)</b>
&nbsp;
&nbsp;    // Drag Events
<b class="nc">&nbsp;    fun drag(callback: () -&gt; Unit) = event(&quot;drag&quot;, callback)</b>
<b class="nc">&nbsp;    fun dragend(callback: () -&gt; Unit) = event(&quot;dragend&quot;, callback)</b>
<b class="nc">&nbsp;    fun dragenter(callback: () -&gt; Unit) = event(&quot;dragenter&quot;, callback)</b>
<b class="nc">&nbsp;    fun dragleave(callback: () -&gt; Unit) = event(&quot;dragleave&quot;, callback)</b>
<b class="nc">&nbsp;    fun dragover(callback: () -&gt; Unit) = event(&quot;dragover&quot;, callback)</b>
<b class="nc">&nbsp;    fun dragstart(callback: () -&gt; Unit) = event(&quot;dragstart&quot;, callback)</b>
<b class="nc">&nbsp;    fun drop(callback: () -&gt; Unit) = event(&quot;drop&quot;, callback)</b>
&nbsp;
&nbsp;    // Clipboard Events
<b class="nc">&nbsp;    fun copy(callback: () -&gt; Unit) = event(&quot;copy&quot;, callback)</b>
<b class="nc">&nbsp;    fun cut(callback: () -&gt; Unit) = event(&quot;cut&quot;, callback)</b>
<b class="nc">&nbsp;    fun paste(callback: () -&gt; Unit) = event(&quot;paste&quot;, callback)</b>
&nbsp;
&nbsp;    // Print Events
<b class="nc">&nbsp;    fun afterprint(callback: () -&gt; Unit) = event(&quot;afterprint&quot;, callback)</b>
<b class="nc">&nbsp;    fun beforeprint(callback: () -&gt; Unit) = event(&quot;beforeprint&quot;, callback)</b>
&nbsp;
&nbsp;    // Selection Events
<b class="nc">&nbsp;    fun selectstart(callback: () -&gt; Unit) = event(&quot;selectstart&quot;, callback = callback)</b>
<b class="nc">&nbsp;    fun selectionchange(callback: () -&gt; Unit) = event(&quot;selectionchange&quot;,  callback = callback)</b>
&nbsp;
&nbsp;    // Media events
&nbsp;    /*
&nbsp;    fun abort(callback: () -&gt; Unit) = event(&quot;abort&quot;, callback)
&nbsp;    fun canplay(callback: () -&gt; Unit) = event(&quot;canplay&quot;, callback)
&nbsp;    fun canplaythrough(callback: () -&gt; Unit) = event(&quot;canplaythrough&quot;, callback)
&nbsp;    fun durationchange(callback: () -&gt; Unit) = event(&quot;durationchange&quot;, callback)
&nbsp;    fun emptied(callback: () -&gt; Unit) = event(&quot;emptied&quot;, callback)
&nbsp;    fun ended(callback: () -&gt; Unit) = event(&quot;ended&quot;, callback)
&nbsp;    fun message(callback: () -&gt; Unit) = event(&quot;message&quot;, callback)
&nbsp;    fun loadeddata(callback: () -&gt; Unit) = event(&quot;loadeddata&quot;, callback)
&nbsp;    fun loadedmetadata(callback: () -&gt; Unit) = event(&quot;loadedmetadata&quot;, callback)
&nbsp;    fun loadstart(callback: () -&gt; Unit) = event(&quot;loadstart&quot;, callback)
&nbsp;    fun pause(callback: () -&gt; Unit) = event(&quot;pause&quot;, callback)
&nbsp;    fun play(callback: () -&gt; Unit) = event(&quot;play&quot;, callback)
&nbsp;    fun playing(callback: () -&gt; Unit) = event(&quot;playing&quot;, callback)
&nbsp;    fun progress(callback: () -&gt; Unit) = event(&quot;progress&quot;, callback)
&nbsp;    fun ratechange(callback: () -&gt; Unit) = event(&quot;ratechange&quot;, callback)
&nbsp;    fun seeked(callback: () -&gt; Unit) = event(&quot;seeked&quot;, callback)
&nbsp;    fun seeking(callback: () -&gt; Unit) = event(&quot;seeking&quot;, callback)
&nbsp;    fun stalled(callback: () -&gt; Unit) = event(&quot;stalled&quot;, callback)
&nbsp;    fun suspend(callback: () -&gt; Unit) = event(&quot;suspend&quot;, callback)
&nbsp;    fun timeupdate(callback: () -&gt; Unit) = event(&quot;timeupdate&quot;, callback)
&nbsp;    fun volumechange(callback: () -&gt; Unit) = event(&quot;volumechange&quot;, callback)
&nbsp;    fun waiting(callback: () -&gt; Unit) = event(&quot;waiting&quot;, callback)
&nbsp;    fun animationend(callback: () -&gt; Unit) = event(&quot;animationend&quot;, callback)
&nbsp;    fun animationiteration(callback: () -&gt; Unit) = event(&quot;animationiteration&quot;, callback)
&nbsp;    fun animationstart(callback: () -&gt; Unit) = event(&quot;animationstart&quot;, callback)
&nbsp;    fun transitionend(callback: () -&gt; Unit) = event(&quot;transitionend&quot;, callback)
&nbsp;     */
&nbsp;}
&nbsp;
&nbsp;fun main() {
&nbsp;    val server: Kweb = Kweb(port= 7660) {
&nbsp;        doc.body {
&nbsp;            div(fomantic.content) {
&nbsp;                val label = h1(fomantic.ui)
&nbsp;                label.text(&quot;Click Me&quot;)
&nbsp;                label.onImmediate.click {
&nbsp;                    label.text(&quot;Clicked!&quot;)
&nbsp;                }
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2022-11-30 17:36</div>
</div>
</body>
</html>
